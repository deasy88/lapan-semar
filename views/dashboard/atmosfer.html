{% extends '../layout/dashboard.html' %}

{% block content %}
<div class="row">
	<div class="col-lg-12">
    	<h1 class="page-header">
        	{{ title }} <small>DSS SEMAR</small>
        </h1>
    </div>

    {% if view==1 %}
    <div class="col-md-12">
	    <form class="form-horizontal" method="post" role="form">
		    <div class="form-group">
		    	<label class="col-md-2">Tanggal</label>
		    	<div class="col-md-3">
		    		<input type="date" name="tanggal" class="form-control" />
		    	</div>
		    	<div class="col-md-2">
		    		<button class="btn btn-primary">Tampil</button>
		    	</div>
		    </div>
		</form>
    </div>
    {% endif %}

    <div class="col-md-12">
    	<div id="map" class="smallmap"></div>
    </div>
</div>

	<script src="/javascripts/OpenLayers.js"></script> 
	<script type="text/javascript">
	$(document).ready( function() {
		var map, layer;

        function init(){
        	map = new OpenLayers.Map( 'map', { projection: "EPSG:4326"} );
            layer = new OpenLayers.Layer.OSM( "Simple OSM Map");
            map.addLayer(layer);

            var wms = new OpenLayers.Layer.WMS( "WMS", "http://182.23.27.39:8080/wms/wms",
			          	{  
				            layers: 'HYCOM/u:v-dir',
			                format: 'image/png',
			                transparent: true,
			                bgcolor: 'transparent',
			                attribution: "Weather data Â© 2016 LAPAN",
			                styles: 'default-arrows/default',
			                time: '2016-06-03T00:00:00.000Z',
			                elevation: 0,
			                colorscalerange: "-198,198",
			                numcolorbands: 250,
			                abovemaxcolor:"0x000000",
			                belowmincolor: "0x000000",
			                logscale: false,
			                service: "WMS",
			                version: "1.1.1",
			                request: "GetMap",
			                srs: "EPSG:4326",
			                bbox: [86.24,12.4,106.72,32.88],
			                width: 256,
			                height: 256,
			                tiled: true
				        },
				        {
				            singleTile: false, 
				            isBaseLayer: false
				        }
			        );
			map.addLayer( wms );

            map.setCenter(
                new OpenLayers.LonLat( 12282054.577208, -892478.7421335 ), 3
            );
        }

        init();
	} );
	</script>

	<style type="text/css">
		.smallmap {
		    width: 100%;
		    height: 500px;
		    border: 1px solid #ccc;
		    display: inherit;
		}
		@media only screen and (max-width: 600px) {
		    body {
		        height           : 100%;
		        margin           : 0;
		        padding          : 0;
		        width            : 100%;
		    }
		    #map {
		        background : #7391ad;
		        width      : 100%;
		    }
		    #map {
		        border : 0;
		        height : 250px;
		    }
		    #title {
		        font-size   : 1.3em;
		        line-height : 2em;
		        text-indent : 1em;
		        margin      : 0;
		        padding     : 0;
		    }
		    #docs {
		        bottom     : 0;
		        padding    : 1em;
		    }
		    #shortdesc {
		        color      : #aaa;
		        font-size  : 0.8em;
		        padding    : 1em;
		        text-align : right;
		    }
		    #tags {
		        display : none;
		    }
		}
		@media only screen and (orientation: landscape) and (max-width: 600px) {
		    #shortdesc {
		       float: right;
		       width: 25%;
		    }
		    #map {
		        width: 70%;
		    }
		    #docs {
		        font-size: 12px;
		    }
		}
	</style>

{% endblock %}